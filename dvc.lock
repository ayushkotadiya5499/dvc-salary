schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ingestion.py
    deps:
    - path: src/data_ingestion.py
      hash: md5
      md5: 4419cf2bfcb3c66389875d6bff999b80
      size: 1220
    params:
      params.yaml:
        data.raw_path: data/raw
        data.source_path: data/salary_dataset.csv
        split.random_state: 32
        split.test_size: 0.1
    outs:
    - path: data/raw
      hash: md5
      md5: efc3b28a36c148912373096e2b6c2202.dir
      size: 22835
      nfiles: 2
  data_preprocessing:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: 1383af9fc1ead7a6ace4092ac8929025
      size: 20509
    - path: src/data_preprocessing.py
      hash: md5
      md5: b3ec87e5872f4c6e65d7a4ed9e7ff3e4
      size: 2648
    params:
      params.yaml:
        data.target: salary
        data.train_path: data/raw/train.csv
        features.cat_cols:
        - job_role
        - education_level
        - location
        features.num_cols:
        - experience
        - age
        - projects_completed
        - hours_per_week
        model.max_depth: 3
        model.min_samples_leaf: 1
        model.min_samples_split: 2
        model.n_estimators: 250
        model.n_jobs: -1
        model.output_path: models/model.pkl
        split.random_state: 32
        split.test_size: 0.1
    outs:
    - path: models/model.pkl
      hash: md5
      md5: ea92c0c39c0a2e3708ae163506a1f59b
      size: 353008
  testing:
    cmd: python src/testing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: e223bf793ecbdfafc6ef6954a37a84d9
      size: 2326
    - path: models/model.pkl
      hash: md5
      md5: ea92c0c39c0a2e3708ae163506a1f59b
      size: 353008
    - path: src/testing.py
      hash: md5
      md5: 8008be385d1d2877b6e12c8271c912d7
      size: 1436
    params:
      params.yaml:
        data.target: salary
        data.test_path: data/raw/test.csv
        evaluation.metrics_output: metrics.json
        model.output_path: models/model.pkl
    outs:
    - path: metrics.json
      hash: md5
      md5: 4848bf8fd1c27850463a8fd47f0ccec4
      size: 95
